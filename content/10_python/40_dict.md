---
title: 'ディクショナリ'
---

## 概要
- キーバリューペア
- 特徴：検索が高速
  - 内部的にハッシュテーブルを使用している
  - メモリオーバーヘッドがあるため、大量データをdictにするのは注意
    - タプルや名前付きタプルを検討すること
- 順序付きではないことに注意する
  - イテレーションで回しているときは要素を追加しないこと
- 任意のオブジェクトをdictのように使いたいときはUserDictを継承させる

## 基本的な記法
```py
# 作成
dic = {'a': 0, 'b': 1}

# 上書き
dic['a'] = 2
# {'a': 2, 'b': 1}

# 追加（存在しない場合）
dic['c'] = 3
# {'a': 2, 'b': 1, 'c': 3}
```

## キー数
```py
len(dic)
# 3
```

## キー検索
```py
'a' in dic
```

### 値の確認
```py
# キー
[k for k in dic.keys()]
# ['a', 'b', 'c']

# バリュー
[v for v in dic.values()]
# [2, 1, 3]

# キーバリュー
[(k, v) for k, v in dic.items()]
# [('a', 2), ('b', 1), ('c', 3)]
```

### dict内包表記
```py
{ k: v for k, v in [('a', 0), ('b', 1)] }
# {'a': 0, 'b': 1}
```

### collections.OrdererDict
- **挿入された順序で**キーを保存する
  - 予測可能な順序で要素をイテレーションできる
  - popitemで末尾（last=Falseで先頭）を取り出せる

### collections.ChainMap
- 一括してサーチできる複数のマップのリストを収納する