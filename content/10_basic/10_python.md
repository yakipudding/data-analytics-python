---
title: 'Python'
---

Python構文Tips

## 演算
項目 | 内容
--- | --- 
除算 | 整数同士の除算はfloat（浮動小数点）になる
累乗 | `**`
商 | `//`
boolの扱い | True:1 False:0として計算される

## 文字列
項目 | 構文 | 説明
--- | --- | --- 
f文字列 | `f'{a} is {b}'` | テンプレート構文てきなやつ
エスケープ | `'c:\\\\...'` | `\`は特殊構文になるため`\\`にエスケープする必要がある
生文字 | `r'c:\\...'` | \などの特殊構文を生文字として扱う
検索 | `'検索文字列' in '文章'` | [文章]に[検索文字列]が含まれているかどうか
置換 | `文字列.replace(対象文字列, 置換文字列)` | [文字列]の[対象文字列]を[置換文字列]に置換する
分割 | `文字列.split(区切り文字)` | [文字列]を[区切り文字]で分割する

## List
項目 | 構文 | 結果 | 備考
--- | --- | --- | --- 
定義 | `a = [1, 2, 3, 4, 5]` | |
要素に後ろからアクセス | `a[-2]` | `4` | 末尾の要素が-1
スライシング1 | `a[0:2]` | `[1,2]` | インデックス0～(2-1)の要素まで
スライシング2 | `a[:-1]` | `[1,2,3,4]` | インデックス0～最後から1個手前の要素まで
逆から | `a[::-1]` | `[5,4,3,2,1]` | 
要素数 | `len(list)` | `5` |
追加 | `list.append(item)` | |
存在するかどうか | `item in list` | `True` |
index | `list.index(item)` | `1` |
map | `[item式 for item in list]` | `[item1結果, item2結果, ...]` |
合計 | `sum(list)` | `15` | True/FalseのリストだとTrueの数になる
2つのリストの演算 | `prediction_list == true_list` | `[True, False, True, ...]` | 同じ要素数のリスト同士の演算をすると結果のリストが作成される

## range
やりたいこと | 例
--- | ---
startからend-1までの整数からなるリストを作成する | `range(0,10) #[0, 1, 2, 3, 4, 5, 6, 7, 8, 9]`
startからend-1までのstepで指定された値だけ増加するリストを作成する | `range(0,10,3) #[0, 3, 6 ,9]`

## dictionary
キーバリューペア

項目 | 構文 | 結果
--- | --- | ---
定義 | `dic = {'a' :1}` |
値 | `dic['a']` | `1` 
新しい要素を追加 | `dic['b'] = 2` |
要素の存在確認 | `'a' in dic` |
キーバリューのlist | `dic.items()` | `key:item[0], value:item[1]`

## for
やりたいこと | 例
--- | ---
listのindexも取得したいとき | `for doc, index in enumerate(doc_list):`
listのindexも取得したいとき2 | rangeつかう
2つのlistを回したいとき | zipを使う。 `for i, j in zip(i_list, j_list)`

## class
項目 | 構文
--- | ---
定義 | `class クラス名:`
コンストラクタ | `def __init__(self, 引数, ...)`

## Setオブジェクト
- もともとは集合演算を使うためのオブジェクト
  - `set([1,2,3]) - set([1,2]) = set([3])`
- list要素の重複削除に用いられる事が多い
  - 同じ要素を追加しても要素が増えない
- 定義：`set(list)`

## Counterオブジェクト
- ユニークな要素を数える時などに使う
- `from collections import Counter`
- 定義：`Counter(list)`
  - 中身はdictionary
- 最頻値：`counter.most_common(1)`

## インポート元のパスを増やしたい時
- `sys.path.append(絶対パス)`

## lambda
- 関数の定義を省略化
- 定義：`lambda x: x + 1`
  - `def f(x): return x + 1`

## 三項演算子
`(変数) = (条件がTrueのときの値) if (条件) else (条件がFalseのときの値)`

## pass
- 何もしない時
- ブロックの中とかで使う